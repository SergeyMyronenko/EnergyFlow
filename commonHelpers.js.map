{"version":3,"file":"commonHelpers.js","sources":["../src/js/favorites-list.js","../src/js/delete-from-favorites.js","../src/js/render.js","../src/js/favorites-modal.js"],"sourcesContent":["let favoritesList;\nlet paginationButtons;\n\nconst itemsPerPage = 6;\nif (window.location.pathname === '/page-2.html') {\n  favoritesList = document.querySelector('.favorites-list');\n  paginationButtons = document.querySelectorAll(\n    '.favorites-pagination-block button'\n  );\n  showPage(1);\n  \n  paginationButtons.forEach(button => {\n    button.addEventListener('click', () => {\n      const pageNumber = parseInt(button.textContent);\n      showPage(pageNumber);\n    });\n  });\n}\n\nfunction showPage(pageNumber) {\n  const startIndex = (pageNumber - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n\n  const items = favoritesList.querySelectorAll('.favorites-list-item');\n  items.forEach((item, index) => {\n    if (index >= startIndex && index < endIndex) {\n      item.style.display = 'block';\n    } else {\n      item.style.display = 'none';\n    }\n  });\n\n  paginationButtons.forEach(button => {\n    if (parseInt(button.textContent) === pageNumber) {\n      button.classList.add('active-btn');\n    } else {\n      button.classList.remove('active-btn');\n    }\n  });\n}","import { LOCAL_STORAGE_KEY } from './add-to-favorites';\n\nexport function removeFromFavotites(removedWorkoutID) {\n  const favoritesWorkout = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n  const newFavoritesWorkouts = JSON.stringify(\n    favoritesWorkout.filter(workout => workout._id !== removedWorkoutID)\n  );\n  localStorage.setItem(LOCAL_STORAGE_KEY, newFavoritesWorkouts);\n}\nfunction animationOfDisapiaring(deletedElement) {\n  deletedElement.style.animation = 'opacity-animation 1s ease-out';\n\n  setTimeout(() => {\n    deletedElement.style.transform = 'translateX(-200%)';\n  }, 100);\n\n  setTimeout(() => {\n    deletedElement.style.position = 'absolute';\n    deletedElement.style.top = '0px';\n    deletedElement.style.left = '0px';\n  }, 450);\n\n  setTimeout(() => deletedElement.remove(), 1000);\n}\n\nfunction removeWorkoutCard(removedWorkoutID) {\n  const deletedWorkoutCard = document.querySelector(`[data-id=\"${removedWorkoutID}\"]`).parentElement\n    .parentElement.parentElement;\n  animationOfDisapiaring(deletedWorkoutCard);\n}\n\nconst favoritesWotkoutContainer = document.querySelector('.favorites-contanier-block');\n\nfavoritesWotkoutContainer.addEventListener('click', e => {\n  if (e.target.dataset.id) {\n    const workoutIdToDelete = e.target.dataset.id;\n    removeFromFavotites(workoutIdToDelete);\n    removeWorkoutCard(workoutIdToDelete);\n  }\n  return;\n});\n","export function renderFavorites() {\n  const storedData = JSON.parse(localStorage.getItem('favoriteData')) || [];\n  const favoritesContainer = document.querySelector('.favorites-contanier-block');\n  const mobilePagination = document.querySelector('.pagination-mobile-list');\n\n  favoritesContainer.innerHTML = '';\n\n  if (storedData.length === 0) {\n    favoritesContainer.innerHTML = `<img class=\"message-info-svg\" src=\"./img/dumbbell.png\" alt=\"dumbbell\" />\n      <p class=\"message-info-text\">\n        It appears that you haven't added any exercises to your favorites yet.\n        To get started, you can add exercises that you like to your favorites\n        for easier access in the future.\n      </p>`;\n\n    mobilePagination.style.display = 'none';\n  }\n\n  const favoritesList = document.createElement('ul');\n  favoritesList.classList.add('favorites-list');\n  favoritesContainer.appendChild(favoritesList);\n\n  \n  const favoritesHTML = storedData\n    .map(item => { \n      let exerciseName = item.name;\n      let exerciseTarget = item.target;\n      const viewPortWidth = window.innerWidth;\n      if (viewPortWidth >= 1440) {\n        if (exerciseName.length > 25) {\n          exerciseName =\n            item.name[0].toUpperCase() + item.name.slice(1, 25).trim() + '...';\n        }\n        if (exerciseTarget.length > 20) {\n          exerciseTarget =\n            item.target[0].toUpperCase() + item.target.slice(1, 17).trim() + '...';\n        }\n      } else if (viewPortWidth < 1440 && viewPortWidth >= 768) {\n        if (exerciseName.length > 17) {\n          exerciseName =\n            item.name[0].toUpperCase() + item.name.slice(1, 16).trim() + '...';\n        }\n      } else {\n        exerciseName =\n          item.name[0].toUpperCase() + item.name.slice(1, 20).trim() + '...';\n        };\n     return `<li class=\"favorites-list-item\" tabindex=\"0\">\n          <div class=\"favorites-card-heder\">\n            <div class=\"favorites-oval\">\n              <span>WORKOUT</span>\n              <button class=\"favorites-icon-svg\" data-id=\"${item._id}\">\n                <svg width=\"16\" height=\"16\" fill=\"none\">\n                  <use href=\"./img/sprite.svg#trash\"></use>\n                </svg>\n              </button>\n            </div>\n            <button class=\"favorites-list-button\" data-id=\"${item._id}\" type=\"button\">\n              Start\n              <svg\n                class=\"favorites-list-button-icon\"\n                width=\"14\"\n                height=\"14\"\n                stroke=\"#1B1B1B\"\n              >\n                <use href=\"./img/sprite.svg#arrow\"></use>\n              </svg>\n            </button>\n          </div>\n          <div class=\"favorites-list-container\">\n            <svg class=\"favorite-list-svg\" width=\"24\" height=\"24\">\n              <use href=\"./img/sprite.svg#dude\"></use>\n            </svg>\n            <h3 class=\"favorites-list-text\">${exerciseName}</h3>\n          </div>\n          <div class=\"favorites-card-text\">\n            <ul class=\"favorites-card-text-list\">\n              <li class=\"favorites-card-text-item\">\n                <div class=\"favorites-card-text-wrapper\">\n                  <h4 class=\"favorites-card-text-title\">Burned calories:</h4>\n                  <p class=\"favorites-card-text-block\">${item.burnedCalories}</p>\n                </div>\n                <div class=\"favorites-card-text-wrapper\">\n                  <h4 class=\"favorites-card-text-title\">Body part:</h4>\n                  <p class=\"favorites-card-text-block\">${item.bodyPart}</p>\n                </div>\n                <div class=\"favorites-card-text-wrapper\">\n                  <h4 class=\"favorites-card-text-title\">Target:</h4>\n                  <p class=\"favorites-card-text-block\">${exerciseTarget}</p>\n                </div>\n              </li>\n            </ul>\n          </div>\n        </li>`})\n    .join('');\n\n  favoritesList.innerHTML = favoritesHTML;\n}\n\ndocument.addEventListener('DOMContentLoaded', renderFavorites);\n","import { getData, createMarkup } from './exercises-modal.js';\nimport './modals-functions.js';\n\nconst refs = {\n  exerciseModal: document.querySelector('.modal'),\n  exsCont: document.querySelector('.exs-container'),\n};\n\ndocument.addEventListener('click', openExerciseModal);\n\nasync function openExerciseModal(e) {\n  try {\n    if (e.target.classList.contains('favorites-list-button')) {\n      const response = await getData(e.target.dataset.id);\n      refs.exsCont.innerHTML = createMarkup(response.data);\n\n      refs.exerciseModal.classList.toggle('is-open');\n      const ratingActive = document.querySelector('.ex-rating-active');\n      const ratingValue = document.querySelector('.modal-rating-value');\n      ratingActive.style.width = await `${parseInt(ratingValue.textContent) / 0.05}%`;\n    }\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n"],"names":["favoritesList","paginationButtons","itemsPerPage","showPage","button","pageNumber","startIndex","endIndex","item","index","removeFromFavotites","removedWorkoutID","favoritesWorkout","LOCAL_STORAGE_KEY","newFavoritesWorkouts","workout","animationOfDisapiaring","deletedElement","removeWorkoutCard","deletedWorkoutCard","favoritesWotkoutContainer","e","workoutIdToDelete","renderFavorites","storedData","favoritesContainer","mobilePagination","favoritesHTML","exerciseName","exerciseTarget","viewPortWidth","refs","openExerciseModal","response","getData","createMarkup","ratingActive","ratingValue","error"],"mappings":"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"}