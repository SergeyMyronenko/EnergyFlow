{"version":3,"file":"commonHelpers2.js","sources":["../src/js/subscription.js","../src/js/exercises.js","../src/js/policy.js"],"sourcesContent":["import axios from 'axios';\n// import Swal from 'sweetalert2';\n// import 'sweetalert2/src/sweetalert2.scss';\nimport { operationSuccess, operationWrong } from './izitoasts';\n\nconst emailPattern = /^[\\w-]+(\\.[\\w-]+)*@([\\w-]+\\.)+[a-zA-Z]{2,7}$/;\nconst feedbackFormData = \"feedback-form-state\";\nconst form = document.querySelector('.footer-subscription');\nconst emailInput = form.querySelector('.input-footer');\nconst button = document.querySelector('.footer-button');\n\n// function displayErrorMessage(message) {\n//     Swal.fire({\n//   position: \"center\",\n//   icon: \"error\",\n//   title: \"Enter a valid email!\",\n//   showConfirmButton: false,\n//   timer: 2000\n// });\n// }\n\n// function displaySuccessfulMessage(message) {\n//    Swal.fire({\n//   position: \"center\",\n//   icon: \"success\",\n//   title: \"Congratulations, you have successfully subscribed!\",\n//   showConfirmButton: false,\n//   timer: 2000\n// });\n// }\n\nconst fetchSubscription = async(email) => {\n    try {\n        const response = await axios.post('https://energyflow.b.goit.study/api/subscription', { email });\n        return response.data;\n    } catch (error) {\n        throw new Error(error.message);\n    }\n}\n\nconst validityСheck = async (event) => {\n    event.preventDefault();\n    button.blur();\n    const footerEmail = emailInput.value.trim();\n    if (!emailPattern.test(footerEmail)) {\n        // displayErrorMessage('Enter a valid email!');\n        operationWrong('Enter a valid email!');\n    } else {\n        try {\n            await fetchSubscription(footerEmail);\n            // displaySuccessfulMessage('Successful subscription!');\n            operationSuccess('Successful subscription!');\n        } catch (error) {\n            // displayErrorMessage('Error subscribing: ' + error.message);\n          operationWrong('There is already a user with this email!');\n        }\n        localStorage.removeItem(feedbackFormData);\n        form.reset();\n    }\n}\n\nform.addEventListener('submit', validityСheck);\n\nform.addEventListener('input', (event) => {\n    const footerEmail = emailInput.value.trim();\n    const combinedData = JSON.stringify({footerEmail});\n    localStorage.setItem(feedbackFormData, combinedData);\n});","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://energyflow.b.goit.study/api';\n\nimport icons from '../img/sprite.svg';\n\nconst FILTER_IMG_LIST = document.querySelector('.exersizes-cards-container');\n\nconst FILTER_IMG_CONTAINER = document.querySelector('.exersizes-cards-container-wrapper');\n\nconst EXERCISES_CARD_LIST = document.querySelector('.exersizes-result-card-container');\n\nconst EXERCISES_CARD_CONTAINER = document.querySelector('.exersizes-result-card-container-wrapper');\n\nconst MESSAGE_CONTAINER = document.querySelector('.exersizes-message-container');\n\nconst PAGINATION_CONTAINER = document.querySelector('.exersizes-pagination-container');\nconst inputContainer = document.querySelector('.exersizes-input-container');\nconst clearBtn = document.querySelector('.exersizes-input-btn');\nconst searchBtn = document.querySelector('.exersizes-input-btn-s');\nconst dash = document.querySelector('.dash');\nconst exerciseName = document.querySelector('.exercise-name');\n\nconst page = 1;\nlet filterType;\n\nconst filterListener = document.querySelector('.exersizes-list');\nconst paginationListener = document.querySelector('.exersizes-pagination-list');\nconst paginationBtn = document.querySelector('.exersizes-pagination-btn');\n\n// ============ Показуємо кнопку \"Догори\" при скролі вниз ============\n\nscrollToTopShowOrHide();\n\n// ============ Запуск фільтрації при завантаженні сторінки ============\n\ndocument.addEventListener('DOMContentLoaded', filterFetch());\n\n// ============ Запуск фільтрації при кліку на кнопку ============\n\nfilterListener.addEventListener('click', e => {\n  e.preventDefault();\n  addLoading();\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  } else {\n    const filterType = e.target.textContent.trim();\n    sessionStorage.clear();\n    sessionStorage.setItem('filterType', JSON.stringify(filterType));\n    filterFetch(filterType);\n    exerciseNameHiding();\n    inputHidingAndRemoveListeners();\n    changeFilterBtnStyle(e);\n    removeLoading();\n  }\n});\n\n// ============ Запуск фільтрації при кліку на загальну картку ============\n\nFILTER_IMG_CONTAINER.addEventListener('click', choseFilterCard);\n// ================= Функція запуску фільтрації при кліку на картку вправи =================\nfunction choseFilterCard(e) {\n  e.preventDefault();\n  addLoading();\n  if (e.target.nodeName !== 'DIV' && e.target.nodeName !== 'H3' && e.target.nodeName !== 'P') {\n    return;\n  }\n\n  const filterType = e.target.dataset.filter;\n  const filterSubType = e.target.dataset.target;\n\n  fetchExersizes(filterType, filterSubType, page);\n  showExerciseName(e);\n  inputVisualisationAddListeners();\n  removeLoading();\n  sessionStorage.setItem('filterSubType', JSON.stringify(filterSubType));\n  sessionStorage.setItem('filterType', JSON.stringify(filterType));\n}\n\n// ============ Запуск фільтрації при кліку на пагінацію ============\n\nPAGINATION_CONTAINER.addEventListener('click', e => {\n  e.preventDefault();\n  addLoading();\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  } else {\n    const filterType = JSON.parse(sessionStorage.getItem('filterType'));\n    const page = e.target.textContent.trim();\n    let filterSubType;\n\n    if (sessionStorage.getItem(`filterSubType`)) {\n      filterSubType = JSON.parse(sessionStorage.getItem('filterSubType'));\n    }\n    scrollPage();\n    paginationFetch(filterType, filterSubType, page);\n    changingPaginationBtnStyle(e);\n\n    removeLoading();\n  }\n});\n\n//  ===================== Запит по фільтру типів =====================\n\nasync function filterFetch(filterType, filterSubType, page) {\n  const response = await axios.get('/filters', {\n    params: keyGen(filterType, filterSubType, page),\n  });\n\n  try {\n    if (response.data.results.length === 0) {\n      throw new Error('No results found...');\n    }\n    filterType = response.data.results[0].filter;\n    renderFilterImg(response);\n    pagination(response);\n  } catch (error) {\n    renderMessage();\n  }\n}\n\n// =================== Запит вправ  ========================\n\nasync function fetchExersizes(filterType, filterSubType, page) {\n  const response = await axios.get('/exercises', {\n    params: keyGen(filterType, filterSubType, page),\n  });\n\n  try {\n    if (response.data.results.length === 0) {\n      throw new Error('No results found...');\n    }\n    renderExersizesCard(response);\n    if (page === 1) {\n      pagination(response);\n    }\n  } catch (error) {\n    renderMessage();\n  }\n}\n\n// =============== Для пагінації============\nasync function filterFetchPag(filterType, filterSubType, page) {\n  const response = await axios.get('/filters', {\n    params: keyGen(filterType, filterSubType, page),\n  });\n\n  try {\n    if (response.data.results.length === 0) {\n      throw new Error('No results found...');\n    }\n    filterType = response.data.results[0].filter;\n    renderFilterImg(response);\n  } catch (error) {\n    renderMessage();\n  }\n}\n// =========================== Запит вправ по пагінації ===========================\n\nasync function paginationFetch(filterType, filterSubType, page) {\n  let response;\n\n  if (filterSubType) {\n    response = await fetchExersizes(filterType, filterSubType, page);\n  } else {\n    response = await filterFetchPag(filterType, filterSubType, page);\n  }\n}\n\n// ========================== Пошук вправи за назвою input ==========================\n\nasync function searchByName(e) {\n  if (e.target.nodeName !== 'BUTTON' && e.keyCode !== 13) {\n    return;\n  }\n  addLoading();\n  const searchQuery = document.querySelector('.exersizes-input').value.trim().toLowerCase();\n\n  const filterType = JSON.parse(sessionStorage.getItem('filterType'));\n  const filterSubType = JSON.parse(sessionStorage.getItem('filterSubType'));\n\n  try {\n    if (searchQuery.length !== 0) {\n      const response = await axios.get('/exercises', {\n        params: keyGen(filterType, filterSubType, page, searchQuery),\n      });\n      if (response.data.results.length === 0) {\n        throw new Error('No results found...');\n      }\n\n      renderExersizesCard(response);\n      pagination(response);\n    }\n  } catch (error) {\n    renderMessage();\n  }\n  simpleInputCleaning();\n  removeLoading();\n}\n\n//  ===================== Вставлення карток по фільтру =====================\n\nasync function renderFilterImg(resp) {\n  const results = resp.data.results;\n  FILTER_IMG_CONTAINER.classList.remove('hidden');\n  EXERCISES_CARD_CONTAINER.classList.add('hidden');\n  MESSAGE_CONTAINER.classList.add('hidden');\n\n  FILTER_IMG_LIST.innerHTML = '';\n  const markup = results\n    .map(el => {\n      const filter = el.filter;\n      const target = el.name;\n      return `<li class=\"first-filter\"><div class=\"exersizes-card-bytype\" tabindex=\"0\" style=\"background: linear-gradient(\n    0deg,\n    rgba(16, 16, 16, 0.7) 0%,\n    rgba(16, 16, 16, 0.7) 100%\n  ), url(${\n    el.imgUrl\n  }) center center no-repeat; background-size: cover;\" data-filter=\"${filter}\" data-target=\"${target}\">\n        <h3 class=\"exersizes-card-bytype-header\" data-filter=\"${filter}\" data-target=\"${target}\">\n          ${el.name[0].toUpperCase() + el.name.slice(1)}\n        </h3>\n        <p class=\"exersizes-card-bytype-text\" data-filter=\"${filter}\" data-target=\"${target}\">${\n        el.filter\n      }</p>\n      </div></li>`;\n    })\n    .join('');\n  FILTER_IMG_LIST.insertAdjacentHTML('beforeend', markup);\n  FILTER_IMG_CONTAINER.addEventListener('keyup', choseByEnter);\n}\n// ======================== Функція відкривання картки вправи по Enter ========================\n\nfunction choseByEnter(e) {\n  if (e.keyCode === 13) {\n    choseFilterCard(e);\n  }\n}\n// ======================== Вставлення карток вправ ========================\n\nfunction renderExersizesCard(resp) {\n  const results = resp.data.results;\n  FILTER_IMG_CONTAINER.removeEventListener('keyup', choseByEnter);\n  EXERCISES_CARD_CONTAINER.classList.remove('hidden');\n  document;\n  FILTER_IMG_CONTAINER.classList.add('hidden');\n  MESSAGE_CONTAINER.classList.add('hidden');\n  FILTER_IMG_CONTAINER.removeEventListener('keyup', choseByEnter);\n  EXERCISES_CARD_LIST.innerHTML = '';\n  let id;\n  const markup = results\n    .map(el => {\n      let exerciseName = el.name;\n      let exerciseTarget = el.target;\n      id = el._id;\n      const viewPortWidth = window.innerWidth;\n\n      if (viewPortWidth >= 1440) {\n        if (exerciseName.length > 25) {\n          exerciseName = el.name[0].toUpperCase() + el.name.slice(1, 25).trim() + '...';\n        }\n        if (exerciseTarget.length >= 9) {\n          exerciseTarget = el.target[0].toUpperCase() + el.target.slice(1, 8).trim() + '...';\n        }\n      } else if (viewPortWidth < 1440 && viewPortWidth >= 768) {\n        if (exerciseName.length > 17) {\n          exerciseName = el.name[0].toUpperCase() + el.name.slice(1, 16).trim() + '...';\n        }\n      } else {\n        exerciseName = el.name[0].toUpperCase() + el.name.slice(1, 20).trim() + '...';\n        console.log('320');\n      }\n\n      return `        <li class=\"second-filter\" aria-label=\"Exercise\"><div class=\"exersizes-card\" tabindex=\"0\">\n    <div class=\"exersizes-card-header-cont\">\n        <div class=\"exersizes-card-workout-cont\">\n            <div class=\"exersizes-card-workout-header-title\">workout</div>\n            <div class=\"exersizes-card-workout-rate-container\">\n                <span class=\"exersizes-card-workout-rate\" aria-label=\"Exercise rating\">${Math.round(\n                  el.rating\n                )\n                  .toString()\n                  .padEnd(3, '.0')}</span>\n                <svg class=\"exersizes-card-rate-icon\" width=\"18\" height=\"18\" aria-label=\"Star icon\">\n                    <use href=\"${icons}#star\"></use>\n                </svg>\n            \n            </div>\n           \n        </div>\n       <button class=\"exersizes-card-btn\" type=\"button\" data-id=${id} aria-label=\"Start button\">start \n        <svg class=\"exersizes-card-btn-icon\" width=\"14\" height=\"14\" aria-label=\"arrow-icon\">\n            <use href=\"${icons}#arrow\"></use>\n        </svg>\n       </button>\n    </div>\n\n    <div class=\"exersizes-card-workout-title-cont\">\n<svg class=\"exersizes-card-title-icon\" width=\"24\" height=\"24\" aria-label=\"Runner icon\">\n                    <use href=\"${icons}#runner\"></use>\n                </svg>\n                <h3 class=\"exersizes-card-title-h\" aria-description=\"${\n                  el.name\n                }\">${exerciseName}</h3>\n    </div>\n    <ul class=\"exersizes-card-info-list\">\n        <li class=\"exersizes-card-info-item\"><p class=\"exersizes-card-info-descr\" aria-description=\"How much calories you burn during a certain amount of time\">Burned calories:\n            <span class=\"exersizes-card-info-data\" data-burning-calories aria-label=\"Calories time\">${\n              el.burnedCalories\n            } / ${el.time} min</span></p></li>\n        <li class=\"exersizes-card-info-item\"><p class=\"exersizes-card-info-descr\" aria-label=\"Body part\">Body part:\n            <span class=\"exersizes-card-info-data\" data-body-type>${\n              el.bodyPart[0].toUpperCase() + el.bodyPart.slice(1)\n            }</span></p></li>\n        <li class=\"exersizes-card-info-item\"><p class=\"exersizes-card-info-descr\" aria-label=\"Exercise name\">Target:\n            <span class=\"exersizes-card-info-data\" data-filter-sub-type>${exerciseTarget}</span></p></li>\n    </ul>\n</div></li>`;\n    })\n    .join('');\n  EXERCISES_CARD_LIST.insertAdjacentHTML('beforeend', markup);\n  EXERCISES_CARD_CONTAINER.addEventListener('keyup', choseByEnter);\n}\n\n// =========================== Виведення повідомлення ===========================\n\nasync function renderMessage(error) {\n  FILTER_IMG_CONTAINER.classList.add('hidden');\n  EXERCISES_CARD_CONTAINER.classList.add('hidden');\n  MESSAGE_CONTAINER.classList.remove('hidden');\n  const paginationList = document.querySelector('.exersizes-pagination-list');\n  paginationList.innerHTML = '';\n\n  MESSAGE_CONTAINER.innerHTML = '';\n  const markupMessage =\n    '<p class=\"noresult-message\" aria-label=\"Error message\">Unfortunately, <em class=\"span-strong\">no results</em> were found. You may want to consider other search options to find the exercise you are looking for. Our range is wide and you have the opportunity to find more options that suit your needs.</p>';\n\n  MESSAGE_CONTAINER.insertAdjacentHTML('beforeend', markupMessage);\n}\n\n// =========================== Зміна стилю активної фільтр-кнопки ===========================\n\nfunction changeFilterBtnStyle(e) {\n  const filterBtns = document.querySelectorAll('.exersizes-menu-btn');\n  filterBtns.forEach(el => {\n    el.classList.remove('exersizes-menu-btn-active');\n  });\n  const activeBtn = e.target;\n  activeBtn.classList.add('exersizes-menu-btn-active');\n}\n\n// ======================== Поява тексту вправи ========================\n\nfunction showExerciseName(e) {\n  dash.classList.remove('visually-hidden');\n  exerciseName.classList.remove('visually-hidden');\n\n  exerciseName.textContent = e.target.dataset.target.trim();\n}\n\n// =========================== Видалення тексту вправи ===========================\n\nfunction exerciseNameHiding() {\n  exerciseName.textContent = '';\n  dash.classList.add('visually-hidden');\n  exerciseName.classList.add('visually-hidden');\n}\n\n// =========================== Key gen ===========================\n\nfunction keyGen(filterType, filterSubType, page, searchQuery) {\n  const config = {\n    page,\n    limit: 12,\n  };\n\n  if (searchQuery) {\n    config.keyword = searchQuery;\n  }\n\n  if (filterType && !filterSubType) {\n    config.filter = filterType;\n    return config;\n  } else if (!filterType && !filterSubType) {\n    config.filter = 'Muscles';\n    return config;\n  } else if (filterType && filterSubType && window.innerWidth >= 768 && window.innerWidth < 1440) {\n    config.limit = 8;\n  } else if (filterType && filterSubType && window.innerWidth >= 1440) {\n    config.limit = 9;\n  }\n\n  switch (filterType) {\n    case 'Muscles':\n      config.muscles = filterSubType;\n      break;\n    case 'Equipment':\n      config.equipment = filterSubType;\n      break;\n    default:\n      config.bodypart = filterSubType;\n      break;\n  }\n\n  return config;\n}\n\n// =========================== Pagination ===========================\n\nasync function pagination(resp, error) {\n  let paginationElements = '';\n  const paginationList = document.querySelector('.exersizes-pagination-list');\n  if (error) {\n    paginationList.innerHTML = '';\n    return;\n  }\n\n  const pagesQuantity = resp.data.totalPages;\n  paginationList.innerHTML = '';\n  if (pagesQuantity > 1) {\n    for (let i = 1; i <= pagesQuantity; i++) {\n      if (i === 1) {\n        paginationElements += `<li\n                class=\"exersizes-pagination-item exersizes-pagination-item-active\"\n              >\n\n          \n     <button class=\"exersizes-pagination-btn\"\n                  type=\"button\"\n                  name=\"pagination-button\"\n                  \n                >\n                  ${i}\n                </button>\n              </li>`;\n      } else {\n        paginationElements += `<li\n                class=\"exersizes-pagination-item\"\n              >\n\n          \n     <button class=\"exersizes-pagination-btn\"\n                  type=\"button\"\n                    name=\"pagination-button\"\n                  \n                >\n                  ${i}\n                </button>\n              </li>`;\n      }\n    }\n  }\n  paginationList.insertAdjacentHTML('beforeend', paginationElements);\n}\n\n// ======================== Зміна стилів пагінації ========================\n\nfunction changingPaginationBtnStyle(e) {\n  const pageNumber = e.target.textContent.trim();\n  const previousActiveBtn = document.querySelector('.exersizes-pagination-item-active');\n  const currentActiveBtn = e.target;\n  previousActiveBtn.classList.remove('exersizes-pagination-item-active');\n  currentActiveBtn.classList.add('exersizes-pagination-item-active');\n}\n\n// =================== Функція повернення сторінки до форми пошуку ===================\n\nfunction scrollToTopShowOrHide() {\n  if (window.scrollY > 120) {\n    document.querySelector('.up-link').classList.add('show');\n  } else {\n    document.querySelector('.up-link').classList.remove('show');\n  }\n}\n\n// =================== Функція, що робить пошук видимим =========\n\nfunction inputVisualisationAddListeners() {\n  // const divLister = document.querySelector('.exersizes-input-container');\n  const searchInput = document.querySelector('.exersizes-input');\n  inputContainer.classList.remove('hidden');\n  searchInput.addEventListener('keyup', submitShowHideClean);\n  searchBtn.addEventListener('click', searchByName);\n}\n\n// =================== Відправка за Ентером, показ/ховання хрестика та  чищення ===================\nfunction submitShowHideClean(e) {\n  clearBtn.classList.remove('hidden');\n  if (e.target.value.trim().length > 0) {\n    clearBtn.classList.remove('hidden');\n    clearBtn.addEventListener('click', simpleInputCleaning);\n  }\n  if (e.keyCode === 13) {\n    searchByName(e);\n    simpleInputCleaning();\n    clearBtn.classList.add('hidden');\n  }\n}\n\n// =================== Функція очищення пошуку  Функція зверху замінює ===================\n\nfunction showClearBtnAndCleaning() {\n  clearBtn.classList.remove('hidden');\n  const cleaning = e => {\n    e.preventDefault();\n    simpleInputCleaning();\n    clearBtn.classList.add('hidden');\n  };\n  clearBtn.addEventListener('click', cleaning);\n}\n\n// =================== Функція, що робить пошук невидимим =========\n\nfunction inputHidingAndRemoveListeners() {\n  const searchInput = document.querySelector('.exersizes-input');\n  searchInput.removeEventListener('input', showClearBtnAndCleaning);\n  searchInput.removeEventListener('click', searchByName);\n  inputContainer.classList.add('hidden');\n  clearBtn.classList.add('hidden');\n}\n\n// =================== Функція, що очищує інпут =========\n\nfunction simpleInputCleaning() {\n  const searchInput = document.querySelector('.exersizes-input');\n  searchInput.value = '';\n  clearBtn.classList.add('hidden');\n  clearBtn.removeEventListener('click', simpleInputCleaning);\n}\n// =================== Функція додавання спінера, стилю search-btn-disabled, змінення стану кнопки на відключено ===================\n\nfunction addLoading() {\n  const loaderContainer = document.querySelector('.exersizes-header-filter-cont');\n  loaderContainer.insertAdjacentHTML('afterbegin', '<span class=\"loader\"></span>');\n}\n\n// =================== Функція видалення спінера, стилю search-btn-disabled, змінення стану кнопки на включено, обнулення форми ===================\n\nfunction removeLoading() {\n  const loader = document.querySelector('.loader');\n  loader.remove();\n}\n\n// =================== Скролл догори ===================\nfunction scrollPage() {\n  let scrollTarget = document.querySelector('.exersizes-container');\n  const scrollingPosition = scrollTarget.getBoundingClientRect().y;\n  window.scrollBy({\n    top: scrollingPosition,\n    behavior: 'smooth',\n  });\n}\n","export default function policyModal() {\n  const policy = document.querySelector('.footer-policy');\n  const service = document.querySelector('.footer-service');\n  const serviceOverlay = document.querySelector('.modal-overlay');\n  const policyOverlay = document.querySelector('.policy-modal-overlay');\n\n  policy.addEventListener('click', () => policyOverlay.classList.add('is-open'));\n  service.addEventListener('click', () => serviceOverlay.classList.add('is-open'));\n  policyOverlay.addEventListener('click', () => policyOverlay.classList.remove('is-open'));\n  serviceOverlay.addEventListener('click', () => serviceOverlay.classList.remove('is-open'));\n}\n\nconst fullUrl = window.location.pathname;\nconst lastSlashIndex = fullUrl.lastIndexOf('/');\nconst result = fullUrl.substring(lastSlashIndex);\n\nif (result === '/index.html' || result === '/') {\n  policyModal();\n}\n"],"names":["emailPattern","feedbackFormData","form","emailInput","button","fetchSubscription","email","axios","error","validityСheck","event","footerEmail","operationWrong","operationSuccess","combinedData","FILTER_IMG_LIST","FILTER_IMG_CONTAINER","EXERCISES_CARD_LIST","EXERCISES_CARD_CONTAINER","MESSAGE_CONTAINER","PAGINATION_CONTAINER","inputContainer","clearBtn","searchBtn","dash","exerciseName","page","filterListener","scrollToTopShowOrHide","filterFetch","addLoading","filterType","exerciseNameHiding","inputHidingAndRemoveListeners","changeFilterBtnStyle","removeLoading","choseFilterCard","filterSubType","fetchExersizes","showExerciseName","inputVisualisationAddListeners","scrollPage","paginationFetch","changingPaginationBtnStyle","response","keyGen","renderFilterImg","pagination","renderMessage","renderExersizesCard","filterFetchPag","searchByName","searchQuery","simpleInputCleaning","resp","results","markup","el","filter","target","choseByEnter","id","exerciseTarget","viewPortWidth","icons","paginationList","markupMessage","config","paginationElements","pagesQuantity","previousActiveBtn","currentActiveBtn","searchInput","submitShowHideClean","showClearBtnAndCleaning","cleaning","e","scrollingPosition","policyModal","policy","service","serviceOverlay","policyOverlay","fullUrl","lastSlashIndex","result"],"mappings":"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"}