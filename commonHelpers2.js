import{g as A,c as $}from"./assets/add-to-favorites-53a5c8b0.js";import{S as z,a as l}from"./assets/vendor-20b07447.js";const H=document.querySelector(".header-burger"),E=document.querySelector(".mobile-menu-wrapper"),O=document.querySelector(".mobile-menu-close-btn");function j(){E.classList.remove("visually-hidden")}function D(){E.classList.add("visually-hidden")}H.addEventListener("click",j);O.addEventListener("click",D);const R=/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/,q="feedback-form-state",p=document.querySelector(".footer-subscription"),M=p.querySelector(".input-footer"),U=document.querySelector(".footer-button");function w(e){z.fire({position:"center",icon:"error",title:"Enter a valid email!",showConfirmButton:!1,timer:2e3})}function P(e){z.fire({position:"center",icon:"success",title:"Congratulations, you have successfully subscribed!",showConfirmButton:!1,timer:2e3})}const _=async e=>{try{return(await l.post("https://energyflow.b.goit.study/api/subscription",{email:e})).data}catch(t){throw new Error(t.message)}},F=async e=>{e.preventDefault(),U.blur();const t=M.value.trim();if(!R.test(t))w();else{try{await _(t),P("Successful subscription!")}catch(n){w("Error subscribing: "+n.message)}localStorage.removeItem(q),p.reset()}};p.addEventListener("submit",F);p.addEventListener("input",e=>{const t=M.value.trim(),n=JSON.stringify({footerEmail:t});localStorage.setItem(q,n)});const a={ratingModal:document.querySelector(".js-backdrop-modal"),closeBtn:document.querySelector(".js-rating-close"),rateStars:document.querySelector(".js-stars-list"),star:document.querySelectorAll(".js-rating-star"),openModalsBtn:document.querySelector(".exersizes-cards-container"),openRatingBtn:document.querySelector(".modal-button-rating"),exerciseModal:document.querySelector(".modal"),closeExerciseBtn:document.querySelector(".modal-button-close"),exsCont:document.querySelector(".exs-container")};document.addEventListener("click",W);document.addEventListener("click",Y);document.addEventListener("keydown",Q);function W(e){e.target.classList.contains("exersizes-card-btn")?V(e):e.target.classList.contains("modal-button-rating")&&G()}async function V(e){try{const t=await A(e.target.dataset.id);a.exsCont.innerHTML=$(t.data),a.exerciseModal.classList.add("is-open"),J()}catch(t){throw new Error(t.message)}}function G(e){a.ratingModal.classList.toggle("is-open")}function J(){const e=document.querySelector(".ex-rating-active"),t=document.querySelector(".modal-rating-value");e.style.width=`${parseInt(t.textContent)/.05}%`}function Y(e){e.target.classList.contains("backdrop")&&a.ratingModal.classList.contains("is-open")?a.ratingModal.classList.remove("is-open"):e.target.classList.contains("backdrop")&&a.exerciseModal.classList.contains("is-open")||e.target.classList.contains("modal-button-close")||e.target.classList.contains("modal-button-close-icon")||e.target.classList.contains("modal-button-close-use")?a.exerciseModal.classList.remove("is-open"):(e.target.classList.contains("rating-close")||e.target.classList.contains("rating-close-svg")||e.target.classList.contains("rating-close-use"))&&a.ratingModal.classList.remove("is-open")}function Q(e){e.code==="Escape"&&a.ratingModal.classList.contains("is-open")?a.ratingModal.classList.remove("is-open"):e.code==="Escape"&&a.exerciseModal.classList.contains("is-open")&&a.exerciseModal.classList.remove("is-open")}const o={modalBackdrop:document.querySelector(".js-backdrop-modal"),form:document.querySelector(".js-rating-form"),exerciseModal:document.querySelector(".modal"),rateValue:document.querySelector(".js-rating-data"),stars:document.querySelectorAll(".rating-label")},X="64f389465ae26083f39b17a4";o.form.addEventListener("submit",C);o.stars.forEach(e=>{e.addEventListener("click",k)});function k(e){o.rateValue.textContent=`${e.target.dataset.rate}.0`}async function C(e){e.preventDefault();try{const t=await l.patch(`https://energyflow.b.goit.study/api/exercises/${X}/rating`,{rate:parseInt(e.target.elements.rating.value),email:e.target.elements.email.value.trim(),review:e.target.elements.comment.value.trim()})}catch(t){throw new Error(t.message)}finally{o.modalBackdrop.classList.remove("is-open"),o.exerciseModal.classList.remove("is-open"),e.target.reset(),o.form.removeEventListener("submit",C),o.stars.forEach(t=>{t.removeEventListener("click",k)})}}l.defaults.baseURL="https://energyflow.b.goit.study/api";const c=document.querySelector(".exersizes-cards-container"),d=document.querySelector(".exersizes-result-card-container"),u=document.querySelector(".exersizes-message-container"),Z=document.querySelector(".exersizes-pagination-container"),B=document.querySelector(".dash"),g=document.querySelector(".exercise-name"),N=1,K=document.querySelector(".exersizes-list");document.querySelector(".exersizes-pagination-list");document.querySelector(".exersizes-pagination-btn");document.addEventListener("DOMContentLoaded",h());K.addEventListener("click",e=>{if(e.preventDefault(),f(),e.target.nodeName==="BUTTON"){const t=e.target.textContent.trim();sessionStorage.clear(),sessionStorage.setItem("filterType",JSON.stringify(t)),h(t),ie(),de(),se(e),y()}});c.addEventListener("click",e=>{if(e.preventDefault(),f(),e.target.nodeName!=="DIV"&&e.target.nodeName!=="H3"&&e.target.nodeName!=="P")return;const t=e.target.dataset.filter,n=e.target.dataset.target;I(t,n,N),ne(e),oe(),y(),sessionStorage.setItem("filterSubType",JSON.stringify(n)),sessionStorage.setItem("filterType",JSON.stringify(t))});Z.addEventListener("click",e=>{if(e.preventDefault(),f(),e.target.nodeName==="BUTTON"){const t=sessionStorage.getItem("filterType").slice(1,-1),n=e.target.textContent.trim();let i;sessionStorage.getItem("filterSubType")?i=sessionStorage.getItem("filterSubType").slice(1,-1):i=sessionStorage.getItem("filterSubType"),ee(t,i,n),re(e),y()}});async function h(e,t,n){const i=await l.get("/filters",{params:b(e,t,n)});try{if(i.data.results.length===0)throw new Error("No results found...");e=i.data.results[0].filter,te(i),S(i)}catch{L()}}async function I(e,t,n){const i=await l.get("/exercises",{params:b(e,t,n)});try{if(i.data.results.length===0)throw new Error("No results found...");T(i),n===1&&S(i)}catch{L()}}async function ee(e,t,n){t?await I(e,t,n):await h(e,t,n)}async function x(e){if(e.target.nodeName!=="BUTTON"&&e.keyCode!==13)return;f();const t=document.querySelector(".exersizes-input").value.trim().toLowerCase(),n=sessionStorage.getItem("filterType").slice(1,-1),i=sessionStorage.getItem("filterSubType").slice(1,-1);try{if(t.length===0)throw new Error("Nthing to search...");{const s=await l.get("/exercises",{params:b(n,i,N,t)});if(s.data.results.length===0)throw new Error("No results found...");m(),T(s),S(s),y()}}catch(s){console.log(s),L()}}async function te(e){const t=e.data.results;c.classList.remove("visually-hidden"),d.classList.add("visually-hidden"),u.classList.add("visually-hidden"),c.innerHTML="";const n=t.map(i=>{const s=i.filter,r=i.name;return`<li class="first-filter"><div class="exersizes-card-bytype" tabindex="0" style="background: linear-gradient(
    0deg,
    rgba(16, 16, 16, 0.7) 0%,
    rgba(16, 16, 16, 0.7) 100%
  ), url(${i.imgUrl}) center center no-repeat; background-size: cover;" data-filter="${s}" data-target="${r}">
        <h3 class="exersizes-card-bytype-header" data-filter="${s}" data-target="${r}">
          ${i.name[0].toUpperCase()+i.name.slice(1)}
        </h3>
        <p class="exersizes-card-bytype-text" data-filter="${s}" data-target="${r}">${i.filter}</p>
      </div></li>`}).join("");c.insertAdjacentHTML("beforeend",n)}function T(e){const t=e.data.results;d.classList.remove("visually-hidden"),c.classList.add("visually-hidden"),u.classList.add("visually-hidden"),d.innerHTML="";let n;const i=t.map(s=>{let r=s.name;n=s._id;const v=window.innerWidth;return v>=1440?r.length>25&&(r=s.name[0].toUpperCase()+s.name.slice(1,25).trim()+"..."):v<1440&&v>=768?r.length>17&&(r=s.name[0].toUpperCase()+s.name.slice(1,16).trim()+"..."):(r=s.name[0].toUpperCase()+s.name.slice(1,20).trim()+"...",console.log("320")),`        <li class="second-filter"><div class="exersizes-card" tabindex="0">
    <div class="exersizes-card-header-cont">
        <div class="exersizes-card-workout-cont">
            <div class="exersizes-card-workout-header-title">workout</div>
            <div class="exersizes-card-workout-rate-container">
                <span class="exersizes-card-workout-rate">${Math.round(s.rating).toString().padEnd(3,".0")}</span>
                <svg class="exersizes-card-rate-icon" width="18" height="18" aria-label="rate-icon">
                    <use href="./img/sprite.svg#star"></use>
                </svg>
            
            </div>
           
        </div>
       <button class="exersizes-card-btn" type="button" data-id=${n}>start 
        <svg class="exersizes-card-btn-icon" width="14" height="14" aria-label="arrow-icon">
            <use href="./img/sprite.svg#arrow"></use>
        </svg>
       </button>
    </div>

    <div class="exersizes-card-workout-title-cont">
<svg class="exersizes-card-title-icon" width="24" height="24" aria-label="man-icon">
                    <use href="./img/sprite.svg#dude"></use>
                </svg>
                <h3 class="exersizes-card-title-h">${r}</h3>
    </div>
    <ul class="exersizes-card-info-list">
        <li class="exersizes-card-info-item"><p class="exersizes-card-info-descr">Burned calories:
            <span class="exersizes-card-info-data" data-burning-calories>${s.burnedCalories} / ${s.time} min</span></p></li>
        <li class="exersizes-card-info-item"><p class="exersizes-card-info-descr">Body part:
            <span class="exersizes-card-info-data" data-body-type>${s.bodyPart[0].toUpperCase()+s.bodyPart.slice(1)}</span></p></li>
        <li class="exersizes-card-info-item"><p class="exersizes-card-info-descr">Target:
            <span class="exersizes-card-info-data" data-filter-sub-type>${s.target[0].toUpperCase()+s.target.slice(1)}</span></p></li>
    </ul>
</div></li>`}).join("");d.insertAdjacentHTML("beforeend",i)}async function L(e){c.classList.add("visually-hidden"),d.classList.add("visually-hidden"),u.classList.remove("visually-hidden");const t=document.querySelector(".exersizes-pagination-list");t.innerHTML="",u.innerHTML="";const n='<p class="noresult-message" >Unfortunately, <em class="span-strong">no results</em> were found. You may want to consider other search options to find the exercise you are looking for. Our range is wide and you have the opportunity to find more options that suit your needs.</p>';u.insertAdjacentHTML("beforeend",n)}function se(e){document.querySelectorAll(".exersizes-menu-btn").forEach(i=>{i.classList.remove("exersizes-menu-btn-active")}),e.target.classList.add("exersizes-menu-btn-active")}function ne(e){B.classList.remove("visually-hidden"),g.classList.remove("visually-hidden"),g.textContent=e.target.dataset.target.trim()}function ie(){g.textContent="",B.classList.add("visually-hidden"),g.classList.add("visually-hidden")}function b(e,t,n,i){const s={page:n,limit:12};if(i&&(s.keyword=i),e&&!t)return s.filter=e,s;if(!e&&!t)return s.filter="Muscles",s;switch(e&&t&&window.innerWidth>=768&&window.innerWidth<1440?s.limit=8:e&&t&&window.innerWidth>=1440&&(s.limit=9),e){case"Muscles":s.muscles=t;break;case"Equipment":s.equipment=t;break;default:s.bodypart=t;break}return s}async function S(e,t){let n="";const i=document.querySelector(".exersizes-pagination-list");if(t){i.innerHTML="";return}const s=e.data.totalPages;if(i.innerHTML="",s>1)for(let r=1;r<=s;r++)r===1?n+=`<li
                class="exersizes-pagination-item exersizes-pagination-item-active"
              >

          
     <button class="exersizes-pagination-btn"
                  type="button"
                  name="pagination-button"
                  
                >
                  ${r}
                </button>
              </li>`:n+=`<li
                class="exersizes-pagination-item"
              >

          
     <button class="exersizes-pagination-btn"
                  type="button"
                    name="pagination-button"
                  
                >
                  ${r}
                </button>
              </li>`;i.insertAdjacentHTML("beforeend",n)}function re(e){e.target.textContent.trim(),document.querySelector(".exersizes-pagination-item-active").classList.remove("exersizes-pagination-item-active"),e.target.classList.add("exersizes-pagination-item-active")}function ae(){window.scrollY>100?document.querySelector(".up-link").classList.add("show"):document.querySelector(".up-link").classList.remove("show")}function oe(){const e=document.querySelector(".exersizes-input"),t=document.querySelector(".exersizes-input-btn-s"),n=document.querySelector(".exersizes-input-container");document.querySelector(".exersizes-input-btn"),n.classList.remove("visually-hidden"),e.addEventListener("keyup",ce),t.addEventListener("click",x)}function ce(e){const t=document.querySelector(".exersizes-input-btn");t.classList.remove("visually-hidden"),e.target.value.trim().length>0&&(t.classList.remove("visually-hidden"),t.addEventListener("click",m)),e.keyCode===13&&(x(e),m(),t.classList.add("visually-hidden"))}function le(){const e=document.querySelector(".exersizes-input-btn");e.classList.remove("visually-hidden");const t=n=>{n.preventDefault(),m(),e.classList.add("visually-hidden")};e.addEventListener("click",t)}function de(){const e=document.querySelector(".exersizes-input");document.querySelector(".exersizes-input-btn-s");const t=document.querySelector(".exersizes-input-container"),n=document.querySelector(".exersizes-input-btn");e.removeEventListener("input",le),e.removeEventListener("click",x),t.classList.add("visually-hidden"),n.classList.add("visually-hidden")}function m(){const e=document.querySelector(".exersizes-input"),t=document.querySelector(".exersizes-input-btn");e.value="",t.classList.add("visually-hidden"),t.removeEventListener("click",m)}function f(){document.querySelector(".exersizes-header-filter-cont").insertAdjacentHTML("afterbegin",'<span class="loader"></span>')}function y(){document.querySelector(".loader").remove()}ae();
//# sourceMappingURL=commonHelpers2.js.map
