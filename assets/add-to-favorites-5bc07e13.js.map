{"version":3,"file":"add-to-favorites-5bc07e13.js","sources":["../../src/js/mobile-menu-function.js","../../src/js/quote.js","../../src/js/exercises-modal.js","../../src/js/modals-functions.js","../../src/js/add-to-favorites.js"],"sourcesContent":["\n/* Відкриття і закриття модального мобільного вікна */\n\nconst burgerButton = document.querySelector('.header-burger');\nconst mobileMenuElement = document.querySelector('.mobile-menu-wrapper');\nconst mobileMenuCloseBtn = document.querySelector('.mobile-menu-close-btn');\n\n\n/* Функціонал модального мобільного вікна */\nconst homeButton = document.querySelector('.mobile-menu-btn-content-home');\nconst favoritesButton = document.querySelector('.mobile-menu-btn-content-favorites');\n\n/* Відкриття і закриття модального мобільного вікна */\n\n\nfunction openMobileMenu() {\n  mobileMenuElement.classList.remove('visually-hidden');\n}\n\nfunction closeMobileMenu() {\n  mobileMenuElement.classList.add('visually-hidden');\n}\n\nburgerButton.addEventListener('click', openMobileMenu);\n\nmobileMenuCloseBtn.addEventListener('click', closeMobileMenu);\n\n\n/* Функціонал модального мобільного вікна */\nhomeButton.addEventListener('click', () => {\n  window.location.href = \"./\";\n});\n\nfavoritesButton.addEventListener('click', () => {\n  window.location.href = \"favorites.html\";\n});\n\n","import axios from 'axios';\nexport async function getQuote() {\n  // Проверяем, доступно ли localStorage и есть ли в нем данные, а также проверяем, совпадает ли timestamp\n  const quoteData =\n    localStorage && JSON.parse(localStorage.getItem('quoteData'));\n\n  const currentDay = new Date().getDate();\n\n  if (quoteData && quoteData.timestamp === currentDay) {\n    // Если условия выполняются, возвращаем quoteData\n    // console.log('Дані про цитату збережені в localStorage');\n    return quoteData;\n  }\n  // Если условия не выполняются, запрашиваем новую цитату\n  // console.log('Дані про цитату не збережені в localStorage');\n  return fetchNewQuote();\n}\n\nasync function fetchNewQuote() {\n  try {\n    // Відправляємо GET-запит на сервер для отримання нової цитати\n    const response = await axios.get(\n      'https://energyflow.b.goit.study/api/quote'\n    );\n    // Створюємо об'єкт з новими даними про цитату\n    const newQuoteData = {\n      quote: response.data.quote, // текст цитати\n      author: response.data.author, // автор цитати\n      timestamp: new Date().getDate(), // поточна дата\n    };\n    // Зберігаємо дані про цитату в локальне сховище\n    localStorage.setItem('quoteData', JSON.stringify(newQuoteData));\n    // Повертаємо нові дані про цитату\n    return newQuoteData;\n  } catch (error) {\n    // Виводимо помилку в консоль, якщо щось пішло не так\n    console.error('Помилка:', error);\n  }\n}\n\n// Асинхронна функція для відображення цитати\nexport async function displayQuote(config) {\n  try {\n    // Отримуємо дані цитати\n    const quoteData = await getQuote();\n    // Знаходимо елемент для відображення тексту цитати\n    const quoteTextElement = document.querySelector(config.quoteTextSelector);\n    // Знаходимо елемент для відображення автора цитати\n    const quoteAuthorElement = document.querySelector(\n      config.quoteAuthorSelector\n    );\n\n    // Якщо не знайдено елементів для відображення тексту або автора цитати, викидаємо помилку\n    if (!quoteTextElement || !quoteAuthorElement) {\n      throw new Error('Елементи для відображення цитати не знайдено');\n    }\n\n    // Встановлюємо текст цитати\n    quoteTextElement.innerText = quoteData.quote;\n    // Встановлюємо автора цитати\n    quoteAuthorElement.innerText = quoteData.author;\n  } catch (error) {\n    // Виводимо помилку в консоль, якщо відбулася помилка при відображенні цитати\n    console.error('Сталася помилка при відображенні цитати:', error);\n  }\n}\n// Об'єкти конфігурації для цитат на сторінці\nconst quoteConfigs = [\n  {\n    quoteTextSelector: '.quote-text', // Селектор для тексту цитати на сторінці home\n    quoteAuthorSelector: '.quote-author', // Селектор для автора цитати на сторінці home\n  },\n  {\n    quoteTextSelector: '.quoote-text', // Селектор для тексту цитати  на сторінці favorites\n    quoteAuthorSelector: '.quote-autor', // Селектор для автора цитати на сторінці favorites\n  },\n];\n\n// Перевіряємо, чи є на сторінці елементи для тексту та автора цитати\nquoteConfigs.forEach(config => {\n  if (\n    document.querySelector(config.quoteTextSelector) &&\n    document.querySelector(config.quoteAuthorSelector)\n  ) {\n    // Якщо елементи є, відображаємо цитату\n    displayQuote(config);\n  }\n});\n\n// Експортуємо функцію displayQuote\n// export { displayQuote };\n","import axios from 'axios';\n\nexport function getData(id) {\n  return axios.get(`https://energyflow.b.goit.study/api/exercises/${id}`);\n}\n\nexport function createMarkup(obj) {\n  return `\n      <div class=\"modal-content\">\n        <img class=\"modal-img\" src=\"${obj.gifUrl}\" alt=\"\">\n\n        <div class=\"modal-info\">\n          <h4 class=\"modal-title\">${obj.name}</h4>\n\n          <div class=\"modal-rating\">\n            <p class=\"modal-rating-value\">${parseFloat(obj.rating)}</p>\n          <div class=\"ex-rating\">\n                    <div class=\"ex-rating-body\">\n                      <div class=\"ex-rating-active\"></div>\n                      <div class=\"ex-rating-items\">\n                        <input\n                          type=\"radio\"\n                          class=\"ex-rating-item\"\n                          value=\"1\"\n                          name=\"exrating\"\n                        /><input\n                          type=\"radio\"\n                          class=\"ex-rating-item\"\n                          value=\"2\"\n                          name=\"exrating\"\n                        /><input\n                          type=\"radio\"\n                          class=\"ex-rating-item\"\n                          value=\"3\"\n                          name=\"exrating\"\n                        /><input\n                          type=\"radio\"\n                          class=\"ex-rating-item\"\n                          value=\"4\"\n                          name=\"exrating\"\n                        /><input type=\"radio\" class=\"ex-rating-item\" value=\"5\" name=\"exrating\" />\n                      </div>\n                    </div>\n                  </div>\n              </div>\n\n          <ul class=\"modal-list\">\n            <li class=\"modal-list-item\">\n              <p class=\"modal-list-item-name\">Target</p>\n              <p class=\"modal-list-item-value\">${obj.target}</p>\n            </li>\n            <li class=\"modal-list-item\">\n              <p class=\"modal-list-item-name\">Body Part</p>\n              <p class=\"modal-list-item-value\">${obj.bodyPart}</p>\n            </li>\n            <li class=\"modal-list-item\">\n              <p class=\"modal-list-item-name\">Equipment</p>\n              <p class=\"modal-list-item-value\">${obj.equipment}</p>\n            </li>\n            <li class=\"modal-list-item\">\n              <p class=\"modal-list-item-name\">Popular</p>\n              <p class=\"modal-list-item-value\">${obj.popularity}</p>\n            </li>\n            <li class=\"modal-list-item\">\n              <p class=\"modal-list-item-name\">Burned calories</p>\n              <p class=\"modal-list-item-value\">${obj.burnedCalories}/3 min</p>\n            </li>\n          </ul>\n\n          <p class=\"modal-description\">${obj.description}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"modal-buttons\">\n        <button class=\"modal-button-favorites\" type=\"button\" data-id=\"${obj._id}\">\n          Add to favorites\n          <svg\n            class=\"modal-button-favorites-icon\"\n            width=\"20\"\n            height=\"20\"\n            aria-label=\"heart-icon\"\n          >\n            <use href=\"./img/sprite.svg#heart\"></use>\n          </svg>\n        </button>\n\n        <button class=\"modal-button-rating\">Give a rating</button>\n      </div>\n  `;\n}\n","import { getData, createMarkup } from './exercises-modal';\n\nexport let id;\nconst refs = {\n  ratingModal: document.querySelector('.js-backdrop-modal'),\n  closeBtn: document.querySelector('.js-rating-close'),\n  rateStars: document.querySelector('.js-stars-list'),\n  star: document.querySelectorAll('.js-rating-star'),\n  openModalsBtn: document.querySelector('.exersizes-cards-container'),\n  openRatingBtn: document.querySelector('.modal-button-rating'),\n  exerciseModal: document.querySelector('.modal'),\n  closeExerciseBtn: document.querySelector('.modal-button-close'),\n  exsCont: document.querySelector('.exs-container'),\n};\n\ndocument.addEventListener('click', openModalHandler);\ndocument.addEventListener('click', closeModalHandler);\ndocument.addEventListener('keydown', closeModalByEsc);\n\nfunction openModalHandler(e) {\n  if (e.target.classList.contains('exersizes-card-btn')) {\n    openExerciseModal(e);\n  } else if (e.target.classList.contains('modal-button-rating')) {\n    openRatingModal(e);\n  }\n}\n\nasync function openExerciseModal(e) {\n  try {\n    const response = await getData(e.target.dataset.id);\n    refs.exsCont.innerHTML = createMarkup(response.data);\n    refs.exerciseModal.classList.add('is-open');\n    id = e.target.dataset.id;\n    updateRatingWidth();\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nfunction openRatingModal(e) {\n  refs.ratingModal.classList.toggle('is-open');\n}\n\nfunction updateRatingWidth() {\n  const ratingActive = document.querySelector('.ex-rating-active');\n  const ratingValue = document.querySelector('.modal-rating-value');\n  ratingActive.style.width = `${parseFloat(ratingValue.textContent) / 0.05}%`;\n}\n\nfunction closeModalHandler(e) {\n  if (e.target.classList.contains('backdrop') && refs.ratingModal.classList.contains('is-open')) {\n    refs.ratingModal.classList.remove('is-open');\n  } else if (\n    e.target.classList.contains('backdrop') &&\n    refs.exerciseModal.classList.contains('is-open')\n  ) {\n    refs.exerciseModal.classList.remove('is-open');\n  } else if (\n    e.target.classList.contains('modal-button-close') ||\n    e.target.classList.contains('modal-button-close-icon') ||\n    e.target.classList.contains('modal-button-close-use')\n  ) {\n    refs.exerciseModal.classList.remove('is-open');\n  } else if (\n    e.target.classList.contains('rating-close') ||\n    e.target.classList.contains('rating-close-svg') ||\n    e.target.classList.contains('rating-close-use')\n  ) {\n    refs.ratingModal.classList.remove('is-open');\n  }\n}\n\nfunction closeModalByEsc(e) {\n  if (e.code === 'Escape' && refs.ratingModal.classList.contains('is-open')) {\n    refs.ratingModal.classList.remove('is-open');\n  } else if (e.code === 'Escape' && refs.exerciseModal.classList.contains('is-open')) {\n    refs.exerciseModal.classList.remove('is-open');\n  }\n}\n","import { getData } from './exercises-modal.js';\nconst addToFavoritesBtn = document.querySelector('.modal-button-favorites');\nconst modalExercises = document.querySelector('.modal');\nconst modalWindow = document.querySelector('.modal');\nmodalExercises.addEventListener('click', addToFavorites);\n\nexport const LOCAL_STORAGE_KEY = 'favoriteData';\nexport let inLocalStorage =\n  JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY)) || [];\n\nasync function addToFavorites(e) {\n  try {\n    if (e.target.classList.contains('modal-button-favorites')) {\n      const itemId = await getData(e.target.dataset.id);\n      const data = itemId.data;\n      const findCopy = inLocalStorage.some(item => item._id === data._id);\n\n      if (!findCopy) {\n        inLocalStorage.push(data);\n      } else {\n        return;\n      }\n      localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(inLocalStorage));\n      modalWindow.classList.remove('is-open');\n    }\n  } catch (error) {\n    console.log(error.message);\n  } finally {\n    // addToFavoritesBtn.removeEventListener('click', addToFavorites);\n  }\n}\n"],"names":["burgerButton","mobileMenuElement","mobileMenuCloseBtn","homeButton","favoritesButton","openMobileMenu","closeMobileMenu","getQuote","quoteData","currentDay","fetchNewQuote","response","axios","newQuoteData","error","displayQuote","config","quoteTextElement","quoteAuthorElement","quoteConfigs","getData","id","createMarkup","obj","refs","openModalHandler","closeModalHandler","closeModalByEsc","openExerciseModal","openRatingModal","updateRatingWidth","ratingActive","ratingValue","modalExercises","modalWindow","addToFavorites","LOCAL_STORAGE_KEY","inLocalStorage","data","item"],"mappings":"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"}