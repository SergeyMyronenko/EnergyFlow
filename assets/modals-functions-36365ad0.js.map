{"version":3,"file":"modals-functions-36365ad0.js","sources":["../../src/js/exercises-modal.js","../../src/js/modals-functions.js"],"sourcesContent":["import axios from 'axios';\n\nexport function getData(id) {\n  return axios.get(`https://energyflow.b.goit.study/api/exercises/${id}`);\n}\n\nexport function createMarkup(obj) {\n  return `\n      <div class=\"modal-content\">\n        <img class=\"modal-img\" src=\"${obj.gifUrl}\" alt=\"\">\n\n        <div class=\"modal-info\">\n          <h4 class=\"modal-title\">${obj.name}</h4>\n\n          <div class=\"modal-rating\">\n            <p class=\"modal-rating-value\">${obj.rating}</p>\n\n       <div class=\"ex-rating\">\n                <div class=\"ex-rating-body\">\n                  <div class=\"ex-rating-active\"></div>\n                  <div class=\"ex-rating-items\">\n                    <input\n                      type=\"radio\"\n                      class=\"ex-rating-item\"\n                      value=\"1\"\n                      name=\"exrating\"\n                    /><input\n                      type=\"radio\"\n                      class=\"ex-rating-item\"\n                      value=\"2\"\n                      name=\"exrating\"\n                    /><input\n                      type=\"radio\"\n                      class=\"ex-rating-item\"\n                      value=\"3\"\n                      name=\"exrating\"\n                    /><input\n                      type=\"radio\"\n                      class=\"ex-rating-item\"\n                      value=\"4\"\n                      name=\"exrating\"\n                    /><input type=\"radio\" class=\"ex-rating-item\" value=\"5\" name=\"exrating\" />\n                  </div>\n                </div>\n              </div>\n          </div>\n\n          <ul class=\"modal-list\">\n            <li class=\"modal-list-item\">\n              <p class=\"modal-list-item-name\">Target</p>\n              <p class=\"modal-list-item-value\">${obj.target}</p>\n            </li>\n            <li class=\"modal-list-item\">\n              <p class=\"modal-list-item-name\">Body Part</p>\n              <p class=\"modal-list-item-value\">${obj.bodyPart}</p>\n            </li>\n            <li class=\"modal-list-item\">\n              <p class=\"modal-list-item-name\">Equipment</p>\n              <p class=\"modal-list-item-value\">${obj.equipment}</p>\n            </li>\n            <li class=\"modal-list-item\">\n              <p class=\"modal-list-item-name\">Popular</p>\n              <p class=\"modal-list-item-value\">${obj.popularity}</p>\n            </li>\n            <li class=\"modal-list-item\">\n              <p class=\"modal-list-item-name\">Burned calories</p>\n              <p class=\"modal-list-item-value\">${obj.burnedCalories}/3 min</p>\n            </li>\n          </ul>\n\n          <p class=\"modal-description\">${obj.description}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"modal-buttons\">\n        <button class=\"modal-button-favorites\" type=\"button\" data-id=\"${obj._id}\">\n          Add to favorites\n          <svg\n            class=\"modal-button-favorites-icon\"\n            width=\"20\"\n            height=\"20\"\n            aria-label=\"heart-icon\"\n          >\n            <use href=\"./img/sprite.svg#heart\"></use>\n          </svg>\n        </button>\n\n        <button class=\"modal-button-rating\">Give a rating</button>\n      </div>\n  `;\n}\n","import { getData, createMarkup } from './exercises-modal';\n\nconst refs = {\n  ratingModal: document.querySelector('.js-backdrop-modal'),\n  closeBtn: document.querySelector('.js-rating-close'),\n  form: document.querySelector('.js-rating-form'),\n  rateStars: document.querySelector('.js-stars-list'),\n  star: document.querySelectorAll('.js-rating-star'),\n  openModalsBtn: document.querySelector('.exersizes-cards-container'),\n  openRatingBtn: document.querySelector('.modal-button-rating'),\n  exerciseModal: document.querySelector('.modal'),\n  closeExerciseBtn: document.querySelector('.modal-button-close'),\n  exsCont: document.querySelector('.exs-container'),\n};\n\n// ========= OPEN LISTENERS =======//\ndocument.addEventListener('click', openRatingModal);\ndocument.addEventListener('click', openExerciseModal);\n\n// ========= CLOSE LISTENERS =======//\ndocument.addEventListener('click', closeModal);\ndocument.addEventListener('keydown', closeModalByEsc);\nrefs.closeBtn.addEventListener('click', closeModalByBtn);\nrefs.closeExerciseBtn.addEventListener('click', closeExerciseModalByBtn);\n\n// ========= MAIN FUNCTION =======//\nasync function openExerciseModal(e) {\n  try {\n    if (e.target.classList.contains('exersizes-card-btn')) {\n      const response = await getData(e.target.dataset.id);\n      refs.exsCont.innerHTML = createMarkup(response.data);\n\n      refs.exerciseModal.classList.toggle('is-open');\n      const ratingActive = document.querySelector('.ex-rating-active');\n      const ratingValue = document.querySelector('.modal-rating-value');\n      ratingActive.style.width = await `${\n        parseInt(ratingValue.textContent) / 0.05\n      }%`;\n    }\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\n// ========= OPEN/CLOSE FUNCTIONS =======//\n\nasync function openRatingModal(e) {\n  if (e.target.classList.contains('modal-button-rating')) {\n    refs.ratingModal.classList.toggle('is-open');\n  }\n}\n\nfunction closeModal(e) {\n  if (\n    e.target.classList.contains('backdrop') &&\n    refs.ratingModal.classList.contains('is-open')\n  ) {\n    refs.ratingModal.classList.remove('is-open');\n    return;\n  }\n  if (\n    e.target.classList.contains('backdrop') &&\n    refs.exerciseModal.classList.contains('is-open')\n  ) {\n    refs.exerciseModal.classList.remove('is-open');\n  }\n}\nfunction closeModalByBtn(e) {\n  if (e.currentTarget) {\n    refs.ratingModal.classList.remove('is-open');\n  }\n}\nfunction closeExerciseModalByBtn(e) {\n  if (e.currentTarget) {\n    refs.exerciseModal.classList.remove('is-open');\n  }\n}\n\nfunction closeModalByEsc(e) {\n  if (e.code === 'Escape' && refs.ratingModal.classList.contains('is-open')) {\n    refs.ratingModal.classList.remove('is-open');\n    return;\n  }\n  if (e.code === 'Escape' && refs.exerciseModal.classList.contains('is-open')) {\n    refs.exerciseModal.classList.remove('is-open');\n  }\n}\n"],"names":["getData","id","axios","createMarkup","obj","refs","openRatingModal","openExerciseModal","closeModal","closeModalByEsc","closeModalByBtn","closeExerciseModalByBtn","response","ratingActive","ratingValue","error"],"mappings":"+uBAEO,SAASA,EAAQC,EAAI,CAC1B,OAAOC,EAAM,IAAI,iDAAiDD,CAAE,EAAE,CACxE,CAEO,SAASE,EAAaC,EAAK,CAChC,MAAO;AAAA;AAAA,sCAE6BA,EAAI,MAAM;AAAA;AAAA;AAAA,oCAGZA,EAAI,IAAI;AAAA;AAAA;AAAA,4CAGAA,EAAI,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAmCLA,EAAI,MAAM;AAAA;AAAA;AAAA;AAAA,iDAIVA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,iDAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,iDAIbA,EAAI,UAAU;AAAA;AAAA;AAAA;AAAA,iDAIdA,EAAI,cAAc;AAAA;AAAA;AAAA;AAAA,yCAI1BA,EAAI,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wEAMgBA,EAAI,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAe/E,CCzFA,MAAMC,EAAO,CACX,YAAa,SAAS,cAAc,oBAAoB,EACxD,SAAU,SAAS,cAAc,kBAAkB,EACnD,KAAM,SAAS,cAAc,iBAAiB,EAC9C,UAAW,SAAS,cAAc,gBAAgB,EAClD,KAAM,SAAS,iBAAiB,iBAAiB,EACjD,cAAe,SAAS,cAAc,4BAA4B,EAClE,cAAe,SAAS,cAAc,sBAAsB,EAC5D,cAAe,SAAS,cAAc,QAAQ,EAC9C,iBAAkB,SAAS,cAAc,qBAAqB,EAC9D,QAAS,SAAS,cAAc,gBAAgB,CAClD,EAGA,SAAS,iBAAiB,QAASC,CAAe,EAClD,SAAS,iBAAiB,QAASC,CAAiB,EAGpD,SAAS,iBAAiB,QAASC,CAAU,EAC7C,SAAS,iBAAiB,UAAWC,CAAe,EACpDJ,EAAK,SAAS,iBAAiB,QAASK,CAAe,EACvDL,EAAK,iBAAiB,iBAAiB,QAASM,CAAuB,EAGvE,eAAeJ,EAAkB,EAAG,CAClC,GAAI,CACF,GAAI,EAAE,OAAO,UAAU,SAAS,oBAAoB,EAAG,CACrD,MAAMK,EAAW,MAAMZ,EAAQ,EAAE,OAAO,QAAQ,EAAE,EAClDK,EAAK,QAAQ,UAAYF,EAAaS,EAAS,IAAI,EAEnDP,EAAK,cAAc,UAAU,OAAO,SAAS,EAC7C,MAAMQ,EAAe,SAAS,cAAc,mBAAmB,EACzDC,EAAc,SAAS,cAAc,qBAAqB,EAChED,EAAa,MAAM,MAAQ,KAAM,GAC/B,SAASC,EAAY,WAAW,EAAI,GACrC,GACF,CACF,OAAQC,EAAO,CACd,MAAM,IAAI,MAAMA,EAAM,OAAO,CAC9B,CACH,CAIA,eAAeT,EAAgB,EAAG,CAC5B,EAAE,OAAO,UAAU,SAAS,qBAAqB,GACnDD,EAAK,YAAY,UAAU,OAAO,SAAS,CAE/C,CAEA,SAASG,EAAW,EAAG,CACrB,GACE,EAAE,OAAO,UAAU,SAAS,UAAU,GACtCH,EAAK,YAAY,UAAU,SAAS,SAAS,EAC7C,CACAA,EAAK,YAAY,UAAU,OAAO,SAAS,EAC3C,MACD,CAEC,EAAE,OAAO,UAAU,SAAS,UAAU,GACtCA,EAAK,cAAc,UAAU,SAAS,SAAS,GAE/CA,EAAK,cAAc,UAAU,OAAO,SAAS,CAEjD,CACA,SAASK,EAAgB,EAAG,CACtB,EAAE,eACJL,EAAK,YAAY,UAAU,OAAO,SAAS,CAE/C,CACA,SAASM,EAAwB,EAAG,CAC9B,EAAE,eACJN,EAAK,cAAc,UAAU,OAAO,SAAS,CAEjD,CAEA,SAASI,EAAgB,EAAG,CAC1B,GAAI,EAAE,OAAS,UAAYJ,EAAK,YAAY,UAAU,SAAS,SAAS,EAAG,CACzEA,EAAK,YAAY,UAAU,OAAO,SAAS,EAC3C,MACD,CACG,EAAE,OAAS,UAAYA,EAAK,cAAc,UAAU,SAAS,SAAS,GACxEA,EAAK,cAAc,UAAU,OAAO,SAAS,CAEjD"}